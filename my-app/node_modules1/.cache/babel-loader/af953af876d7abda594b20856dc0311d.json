{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Katusha\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import s from'./Leagues.module.css';import League from'./League/League';var TITLE='Список лиг';var Leagues=function Leagues(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),leagues=_useState2[0],setLeagues=_useState2[1];/*const [loaded, setLoaded] = useState(false);\r\n  const [error, setError] = useState(null);*/var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),filteredDataLeagues=_useState6[0],setFilteredDataLeagues=_useState6[1];/*useEffect(() =>{\r\n\t  setLoaded(false);\r\n\t  let API_KEY = process.env.REACT_APP_USER_TOKEN;\r\n    //const apiUrl = \"https://apiv2.apifootball.com/?action=get_leagues&APIkey=\"+API_KEY;\r\n    const apiUrl = \"https://api.football-data.org/v2/competitions/2021\";\r\n\t  fetch(apiUrl, {\r\n      method: 'GET',\r\n      headers: {\r\n         'X-Auth-Token': '79c229e5c59445cdb091adf3d2bee52b'\r\n      }\r\n    })\r\n\t  .then(res => res.json())\r\n\t  .then(\r\n\t\t   json => {\r\n\t\t     setLoaded(true);\r\n\t\t     setLeagues(json);\r\n\t\t   },\r\n\t\t   (error) => {\r\n\t\t      setLoaded(true);\t\r\n          setError(error);\r\n\t\t    }\r\n\t  )\r\n\t  .catch(error => console.log('parsing failed', error))\r\n  },[])*/var Data=props.leagues;useEffect(function(){setFilteredDataLeagues(Data.filter(function(league){return league.leagueName.toLowerCase().includes(search.toLowerCase());}));},[search]);var ListLeagues=function ListLeagues(){return filteredDataLeagues.map(function(item){return/*#__PURE__*/React.createElement(League,{league_id:item.leagueCode,league_name:item.leagueName,period:props.period,dispatch:props.dispatch});});};/*console.log(\"Leagues\");\r\n console.log(\"loaded\"+loaded);\r\n console.log(\"error\"+error);*/ /*if (error) {\r\n      return <div>Error: {error.message}</div>;\r\n  } \r\n  else if (!loaded) {\r\n      return <div>Loading...</div>;\r\n  } \r\n  else {*/return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,TITLE),/*#__PURE__*/React.createElement(\"h2\",null,props.period),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043B\\u0438\\u0433\\u0438\",onChange:function onChange(e){return setSearch(e.target.value);}}),/*#__PURE__*/React.createElement(\"div\",{className:s.aside},/*#__PURE__*/React.createElement(ListLeagues,null)));//return      \n//}\n};export default Leagues;","map":{"version":3,"sources":["C:/Users/Katusha/my-app/src/components/Leagues/Leagues.js"],"names":["React","useState","useEffect","s","League","TITLE","Leagues","props","leagues","setLeagues","search","setSearch","filteredDataLeagues","setFilteredDataLeagues","Data","filter","league","leagueName","toLowerCase","includes","ListLeagues","map","item","leagueCode","period","dispatch","e","target","value","aside"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,CAAP,KAAc,sBAAd,CACA,MAAQC,CAAAA,MAAR,KAAqB,iBAArB,CAGA,GAAMC,CAAAA,KAAK,CAAG,YAAd,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAW,eAEKN,QAAQ,CAAC,EAAD,CAFb,wCAElBO,OAFkB,eAETC,UAFS,eAIzB;AACF,6CAL2B,eAOGR,QAAQ,CAAC,EAAD,CAPX,yCAOlBS,MAPkB,eAOVC,SAPU,8BAQ6BV,QAAQ,CAAC,EAAD,CARrC,yCAQlBW,mBARkB,eAQGC,sBARH,eAUzB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SACE,GAAMC,CAAAA,IAAI,CAACP,KAAK,CAACC,OAAjB,CAEAN,SAAS,CAAE,UAAK,CACdW,sBAAsB,CAEpBC,IAAI,CAACC,MAAL,CAAa,SAAAC,MAAM,CAAI,CACrB,MAAOA,CAAAA,MAAM,CAACC,UAAP,CAAkBC,WAAlB,GAAgCC,QAAhC,CAAyCT,MAAM,CAACQ,WAAP,EAAzC,CAAP,CACD,CAFD,CAFoB,CAAtB,CAMD,CAPQ,CAOP,CAACR,MAAD,CAPO,CAAT,CAUA,GAAMU,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACzB,MAEER,CAAAA,mBAAmB,CAACS,GAApB,CAAwB,SAAAC,IAAI,qBAC5B,oBAAE,MAAF,EAAS,SAAS,CAAGA,IAAI,CAACC,UAA1B,CAAuC,WAAW,CAAGD,IAAI,CAACL,UAA1D,CAAuE,MAAM,CAAGV,KAAK,CAACiB,MAAtF,CAA+F,QAAQ,CAAGjB,KAAK,CAACkB,QAAhH,EAD4B,EAA5B,CAFF,CAKA,CAND,CAQD;AACD;AACA,8BAxD2B,CA2DzB;AACF;AACA;AACA;AACA;AACA;AACA,UAEG,mBAAQ,4CACC,8BAAMpB,KAAN,CADD,cAEC,8BAAME,KAAK,CAACiB,MAAZ,CAFD,cAGC,6BAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,2EAA/B,CAA+C,QAAQ,CAAG,kBAAAE,CAAC,QAAIf,CAAAA,SAAS,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb,EAA3D,EAHD,cAIC,2BAAK,SAAS,CAAGzB,CAAC,CAAC0B,KAAnB,eACI,oBAAC,WAAD,MADJ,CAJD,CAAR,CAQE;AACH;AACD,CA7ED,CA+EA,cAAevB,CAAAA,OAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport s from './Leagues.module.css';\r\nimport  League  from './League/League';\r\n\r\n\r\nconst TITLE = 'Список лиг';\r\n\r\nconst Leagues = (props) => {\r\n\r\n  const [leagues, setLeagues] = useState([]);\r\n\r\n  /*const [loaded, setLoaded] = useState(false);\r\n  const [error, setError] = useState(null);*/\r\n\r\n  const [search, setSearch] = useState('');\r\n  const [filteredDataLeagues, setFilteredDataLeagues] = useState([]);\r\n\r\n  /*useEffect(() =>{\r\n\t  setLoaded(false);\r\n\t  let API_KEY = process.env.REACT_APP_USER_TOKEN;\r\n    //const apiUrl = \"https://apiv2.apifootball.com/?action=get_leagues&APIkey=\"+API_KEY;\r\n    const apiUrl = \"https://api.football-data.org/v2/competitions/2021\";\r\n\t  fetch(apiUrl, {\r\n      method: 'GET',\r\n      headers: {\r\n         'X-Auth-Token': '79c229e5c59445cdb091adf3d2bee52b'\r\n      }\r\n    })\r\n\t  .then(res => res.json())\r\n\t  .then(\r\n\t\t   json => {\r\n\t\t     setLoaded(true);\r\n\t\t     setLeagues(json);\r\n\t\t   },\r\n\t\t   (error) => {\r\n\t\t      setLoaded(true);\t\r\n          setError(error);\r\n\t\t    }\r\n\t  )\r\n\t  .catch(error => console.log('parsing failed', error))\r\n  },[])*/\r\n  const Data=props.leagues;\r\n\r\n  useEffect( () =>{\r\n    setFilteredDataLeagues(\r\n\r\n      Data.filter( league => {\r\n        return league.leagueName.toLowerCase().includes(search.toLowerCase())\r\n      })\r\n      )\r\n  },[search])\r\n  \r\n\r\n  const ListLeagues = () => { \r\n   return( \r\n\r\n     filteredDataLeagues.map(item => ( \r\n     < League league_id={ item.leagueCode } league_name={ item.leagueName } period={ props.period } dispatch={ props.dispatch } /> ))\r\n   )   \r\n  }\r\n\r\n /*console.log(\"Leagues\");\r\n console.log(\"loaded\"+loaded);\r\n console.log(\"error\"+error);*/\r\n\r\n\r\n  /*if (error) {\r\n      return <div>Error: {error.message}</div>;\r\n  } \r\n  else if (!loaded) {\r\n      return <div>Loading...</div>;\r\n  } \r\n  else {*/\r\n    \r\n  \treturn( <div >\r\n            <h2>{ TITLE }</h2>\r\n            <h2>{ props.period }</h2>\r\n            <input type=\"text\" placeholder=\"Название лиги\" onChange={ e => setSearch(e.target.value)} />\r\n            <div className={ s.aside }>         \r\n                <ListLeagues/>\r\n            </div>\r\n        </div>\r\n    )//return      \r\n  //}\r\n}\r\n\r\nexport default Leagues;"]},"metadata":{},"sourceType":"module"}