{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Katusha\\\\my-app\\\\src\\\\components\\\\Leagues\\\\Leagues.js\";\nimport React, { useState, useEffect } from 'react';\nimport s from './Leagues.module.css';\nimport League from './League/League';\nimport Search from '../common/Search/Search';\nimport { setSearchCreator } from \"../../redux/search-reducer\";\nimport { setLeagueCreator } from \"../../redux/leagues-reducer\";\nconst TITLE = 'Список лиг';\n\nconst Leagues = props => {\n  let state = props.store.getState();\n  /*  const [leagues, setLeagues] = useState([]);\r\n  \r\n    /*const [loaded, setLoaded] = useState(false);\r\n    const [error, setError] = useState(null);*/\n\n  /*useEffect(() =>{\r\n   setLoaded(false);\r\n   let API_KEY = process.env.REACT_APP_USER_TOKEN;\r\n    //const apiUrl = \"https://apiv2.apifootball.com/?action=get_leagues&APIkey=\"+API_KEY;\r\n    const apiUrl = \"https://api.football-data.org/v2/competitions/2021\";\r\n   fetch(apiUrl, {\r\n      method: 'GET',\r\n      headers: {\r\n         'X-Auth-Token': '79c229e5c59445cdb091adf3d2bee52b'\r\n      }\r\n    })\r\n   .then(res => res.json())\r\n   .then(\r\n     json => {\r\n       setLoaded(true);\r\n       setLeagues(json);\r\n     },\r\n     (error) => {\r\n        setLoaded(true);\t\r\n          setError(error);\r\n      }\r\n   )\r\n   .catch(error => console.log('parsing failed', error))\r\n  },[])*/\n\n  const Data = state.leagues.listLeagues;\n  let filteredDataLeagues = Data.filter(league => {\n    return league.leagueName.toLowerCase().includes(state.search.toLowerCase());\n  });\n  /* let filteredDataLeagues = Data.filter( league => {\r\n         return league.leagueName.toLowerCase().includes(props.search.toLowerCase())\r\n       })\r\n    */\n\n  /*console.log(\"Leagues\");\r\n  console.log(\"loaded\"+loaded);\r\n  console.log(\"error\"+error);*/\n\n  /*if (error) {\r\n      return <div>Error: {error.message}</div>;\r\n  } \r\n  else if (!loaded) {\r\n      return <div>Loading...</div>;\r\n  } \r\n  else {*/\n\n  let selLeague = text => {\n    let action = setLeagueCreator(text);\n    props.store.dispatch(action);\n  };\n\n  const ListLeagues = () => {\n    return filteredDataLeagues.map(item => /*#__PURE__*/React.createElement(League, {\n      league_id: item.leagueCode,\n      league_name: item.leagueName,\n      period: props.period,\n      selLeague: selLeague,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, TITLE, \"  \", state.period), /*#__PURE__*/React.createElement(\"div\", {\n    className: s.aside,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ListLeagues, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }))); //return      \n  //}\n};\n\nexport default Leagues;","map":{"version":3,"sources":["C:/Users/Katusha/my-app/src/components/Leagues/Leagues.js"],"names":["React","useState","useEffect","s","League","Search","setSearchCreator","setLeagueCreator","TITLE","Leagues","props","state","store","getState","Data","leagues","listLeagues","filteredDataLeagues","filter","league","leagueName","toLowerCase","includes","search","selLeague","text","action","dispatch","ListLeagues","map","item","leagueCode","period","aside"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,CAAP,MAAc,sBAAd;AACA,OAAQC,MAAR,MAAqB,iBAArB;AACA,OAAQC,MAAR,MAAqB,yBAArB;AACA,SAASC,gBAAT,QAAiC,4BAAjC;AACA,SAAQC,gBAAR,QAA+B,6BAA/B;AAEA,MAAMC,KAAK,GAAG,YAAd;;AAEA,MAAMC,OAAO,GAAIC,KAAD,IAAW;AAC3B,MAAIC,KAAK,GAACD,KAAK,CAACE,KAAN,CAAYC,QAAZ,EAAV;AACA;AACA;AACA;AACA;;AAGE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACE,QAAMC,IAAI,GAACH,KAAK,CAACI,OAAN,CAAcC,WAAzB;AAEA,MAAIC,mBAAmB,GAAGH,IAAI,CAACI,MAAL,CAAaC,MAAM,IAAI;AAC3C,WAAOA,MAAM,CAACC,UAAP,CAAkBC,WAAlB,GAAgCC,QAAhC,CAAyCX,KAAK,CAACY,MAAN,CAAaF,WAAb,EAAzC,CAAP;AACD,GAFqB,CAA1B;AAID;AACD;AACA;AACA;;AACC;AACD;AACA;;AAGE;AACF;AACA;AACA;AACA;AACA;AACA;;AAME,MAAIG,SAAS,GAAIC,IAAD,IAAU;AACxB,QAAIC,MAAM,GAAGnB,gBAAgB,CAACkB,IAAD,CAA7B;AACAf,IAAAA,KAAK,CAACE,KAAN,CAAYe,QAAZ,CAAqBD,MAArB;AACD,GAHD;;AAKA,QAAME,WAAW,GAAG,MAAM;AACxB,WACEX,mBAAmB,CAACY,GAApB,CAAwBC,IAAI,iBAC5B,oBAAE,MAAF;AAAS,MAAA,SAAS,EAAGA,IAAI,CAACC,UAA1B;AAAuC,MAAA,WAAW,EAAGD,IAAI,CAACV,UAA1D;AAAuE,MAAA,MAAM,EAAGV,KAAK,CAACsB,MAAtF;AAA+F,MAAA,SAAS,EAAGR,SAA3G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADF;AAID,GALD;;AAOA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMhB,KAAN,QAAiBG,KAAK,CAACqB,MAAvB,CADF,eAEE;AAAK,IAAA,SAAS,EAAG7B,CAAC,CAAC8B,KAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF,CAvEyB,CA8ExB;AACD;AACD,CAhFD;;AAkFA,eAAexB,OAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport s from './Leagues.module.css';\r\nimport  League  from './League/League';\r\nimport  Search  from '../common/Search/Search';\r\nimport { setSearchCreator } from \"../../redux/search-reducer\";\r\nimport {setLeagueCreator} from \"../../redux/leagues-reducer\";\r\n\r\nconst TITLE = 'Список лиг';\r\n\r\nconst Leagues = (props) => {\r\nlet state=props.store.getState();\r\n/*  const [leagues, setLeagues] = useState([]);\r\n\r\n  /*const [loaded, setLoaded] = useState(false);\r\n  const [error, setError] = useState(null);*/\r\n\r\n\r\n  /*useEffect(() =>{\r\n\t  setLoaded(false);\r\n\t  let API_KEY = process.env.REACT_APP_USER_TOKEN;\r\n    //const apiUrl = \"https://apiv2.apifootball.com/?action=get_leagues&APIkey=\"+API_KEY;\r\n    const apiUrl = \"https://api.football-data.org/v2/competitions/2021\";\r\n\t  fetch(apiUrl, {\r\n      method: 'GET',\r\n      headers: {\r\n         'X-Auth-Token': '79c229e5c59445cdb091adf3d2bee52b'\r\n      }\r\n    })\r\n\t  .then(res => res.json())\r\n\t  .then(\r\n\t\t   json => {\r\n\t\t     setLoaded(true);\r\n\t\t     setLeagues(json);\r\n\t\t   },\r\n\t\t   (error) => {\r\n\t\t      setLoaded(true);\t\r\n          setError(error);\r\n\t\t    }\r\n\t  )\r\n\t  .catch(error => console.log('parsing failed', error))\r\n  },[])*/\r\n  const Data=state.leagues.listLeagues;\r\n\r\n  let filteredDataLeagues = Data.filter( league => {\r\n        return league.leagueName.toLowerCase().includes(state.search.toLowerCase())\r\n      })\r\n\r\n /* let filteredDataLeagues = Data.filter( league => {\r\n        return league.leagueName.toLowerCase().includes(props.search.toLowerCase())\r\n      })\r\n   */   \r\n /*console.log(\"Leagues\");\r\n console.log(\"loaded\"+loaded);\r\n console.log(\"error\"+error);*/\r\n\r\n\r\n  /*if (error) {\r\n      return <div>Error: {error.message}</div>;\r\n  } \r\n  else if (!loaded) {\r\n      return <div>Loading...</div>;\r\n  } \r\n  else {*/\r\n\r\n \r\n\r\n \r\n    \r\n  let selLeague = (text) => {\r\n    let action = setLeagueCreator(text);\r\n    props.store.dispatch(action);   \r\n  }\r\n\r\n  const ListLeagues = () => { \r\n    return( \r\n      filteredDataLeagues.map(item => ( \r\n      < League league_id={ item.leagueCode } league_name={ item.leagueName } period={ props.period } selLeague={ selLeague } /> ))\r\n    )   \r\n  }\r\n\r\n \treturn( \r\n    <div >\r\n      <h2>{ TITLE }  { state.period }</h2>   \r\n      <div className={ s.aside }>         \r\n        <ListLeagues/>\r\n      </div>\r\n    </div>\r\n  )//return      \r\n  //}\r\n}\r\n\r\nexport default Leagues;"]},"metadata":{},"sourceType":"module"}